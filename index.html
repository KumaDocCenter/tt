<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Kuma&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="爱分享，爱技术，爱生活。">
<meta property="og:type" content="website">
<meta property="og:title" content="Kuma&#39;s Blog">
<meta property="og:url" content="http://blog.kuma8866.top/">
<meta property="og:site_name" content="Kuma&#39;s Blog">
<meta property="og:description" content="爱分享，爱技术，爱生活。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Kuma">
<meta property="article:tag" content="Html">
<meta property="article:tag" content="Javascript">
<meta property="article:tag" content="CSS">
<meta property="article:tag" content="PHP">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Kuma&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Kuma&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Kuma桑の博客，Hexo强力驱动</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.kuma8866.top"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-f3" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/3042627355/" class="article-date">
  <time class="dt-published" datetime="2020-07-10T15:01:38.000Z" itemprop="datePublished">2020-07-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/3042627355/">t3</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="t3"><a href="#t3" class="headerlink" title="t3"></a>t3</h1><p>ԭ��</p>
<h2 id="�ο��K�"><a href="#�ο��K�" class="headerlink" title="�ο��Ķ�"></a>�ο��Ķ�</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.kuma8866.top/posts/3042627355/" data-id="ckcgcs16s0007wsfigmxdbz45" data-title="t3" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tag1/" rel="tag">tag1</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tag2/" rel="tag">tag2</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tag3/" rel="tag">tag3</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tag4/" rel="tag">tag4</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tag5/" rel="tag">tag5</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Pre/c/df/cdk/cdk" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/4288783763/" class="article-date">
  <time class="dt-published" datetime="2020-07-03T19:09:01.945Z" itemprop="datePublished">2020-07-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Pre/">Pre</a>►<a class="article-category-link" href="/categories/Pre/c/">c</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/4288783763/">Pre/c/df/cdk/cdk</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.kuma8866.top/posts/4288783763/" data-id="ckcgcs18o001gwsfi46go7koz" data-title="Pre/c/df/cdk/cdk" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Pre/c/df/df" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/2133687974/" class="article-date">
  <time class="dt-published" datetime="2020-07-03T19:08:39.745Z" itemprop="datePublished">2020-07-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Pre/">Pre</a>►<a class="article-category-link" href="/categories/Pre/c/">c</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/2133687974/">Pre/c/df/df</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.kuma8866.top/posts/2133687974/" data-id="ckcgcs18j001dwsfi9ud8ej5d" data-title="Pre/c/df/df" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Pre/c/K" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/514707214/" class="article-date">
  <time class="dt-published" datetime="2020-07-03T18:48:38.797Z" itemprop="datePublished">2020-07-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Pre/">Pre</a>►<a class="article-category-link" href="/categories/Pre/c/">c</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/514707214/">中文博客</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.kuma8866.top/posts/514707214/" data-id="ckcgcs18f0019wsfi00ha32nk" data-title="中文博客" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-B" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/1255198513/" class="article-date">
  <time class="dt-published" datetime="2020-07-03T18:43:53.662Z" itemprop="datePublished">2020-07-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/default/">default</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/1255198513/">B</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.kuma8866.top/posts/1255198513/" data-id="ckcgcs16n0004wsfi98b3a0as" data-title="B" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-a" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/1243066710/" class="article-date">
  <time class="dt-published" datetime="2020-07-03T18:26:29.684Z" itemprop="datePublished">2020-07-04</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/default/">default</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/1243066710/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.kuma8866.top/posts/1243066710/" data-id="ckcgcs16p0005wsfigm30f9ih" data-title="Hello World" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/1243066710/" class="article-date">
  <time class="dt-published" datetime="2020-06-24T06:46:52.048Z" itemprop="datePublished">2020-06-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/default/">default</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/1243066710/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.kuma8866.top/posts/1243066710/" data-id="ckcgcs16v0009wsfifj6f5en0" data-title="Hello World" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Pre/GitHubBlog架构New" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/posts/3884487082/" class="article-date">
  <time class="dt-published" datetime="2018-12-11T18:35:46.000Z" itemprop="datePublished">2018-12-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Pre/">Pre</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/posts/3884487082/">GitHub  Blog架构</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="GitHub-Blog架构"><a href="#GitHub-Blog架构" class="headerlink" title="GitHub  Blog架构"></a>GitHub  Blog架构</h1><h2 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h2><blockquote>
<p>脚本分离</p>
</blockquote>
<h2 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h2><p><strong>博客程序</strong> ： <a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">hexo</a>  -  静态站点生成器</p>
<p><strong>写作程序</strong> ： <a href="https://www.typora.io/" target="_blank" rel="noopener">Typora</a>  -  makedown 编辑器</p>
<p><strong>持续集成</strong> ： <a href="https://travis-ci.com" target="_blank" rel="noopener">Travis-ci</a>  - 用于构建项目的开源持续集成环境，线上环境。</p>
<h2 id="代码托管平台"><a href="#代码托管平台" class="headerlink" title="代码托管平台"></a>代码托管平台</h2><p>Github</p>
<p><strong>类型</strong>： git</p>
<p><strong>URL</strong>： <a href="https://github.com/" target="_blank" rel="noopener">https://github.com/</a> </p>
<p><a href="https://help.github.com/en/github/working-with-github-pages" target="_blank" rel="noopener">Github Page</a> 设计很不错，相比其他几个平台更有设计感，而且经常在更新设计。</p>
<ul>
<li>GitHub页面可用于具有GitHub Free和GitHub Free的组织的<strong>公共存储库</strong>，以及具有GitHub Pro、GitHub团队、GitHub企业云和GitHub企业服务器的<strong>公共和私有存储库</strong>。</li>
<li>已发布的GitHub Pages网站不得大于1 GB。</li>
<li>GitHub Pages站点的<em>软</em>带宽限制为每月100GB。</li>
<li>GitHub Pages站点每小时<em>软</em>限制为10个构建版本。</li>
</ul>
<p>码云</p>
<p><strong>类型</strong> ： git </p>
<p><strong>URL</strong>：  <a href="https://gitee.com/" target="_blank" rel="noopener">https://gitee.com/</a></p>
<p>码云 Pages Pro 是<a href="https://gitee.com/help/articles/4136" target="_blank" rel="noopener">码云 Pages</a> 的升级版，新增如下功能：</p>
<ul>
<li>支持发布仓库中某个目录（ 例如你可以将仓库的文档目录 doc 发布成静态网页 ）</li>
<li>支持自定义域名（如 <a href="https://www.i-love-gitee.com/" target="_blank" rel="noopener">https://www.i-love-gitee.com</a> ）</li>
<li>支持自定义域名 + https</li>
</ul>
<p>自己搭建</p>
<p>Gitlab   开源</p>
<p><strong>类型</strong> ： git </p>
<p><strong>URL</strong>： <a href="https://gitlab.com/" target="_blank" rel="noopener">https://gitlab.com</a> </p>
<p>Gogs    开源</p>
<p><strong>类型</strong> ： git</p>
<p><strong>URL</strong>： <a href="https://gogs.io/" target="_blank" rel="noopener">https://gogs.io/</a></p>
<p>一款极易搭建的自助 Git 服务，硬件要求低。</p>
<p>使用线上平台的，国外推荐 Github，国内推荐码云（gitee），都是免费托管，允许私有项目</p>
<p>本地搭的情况，Gitlab 功能全但也笨重，很多功能都是不怎么需要的，轻量需求推荐 Gogs</p>
<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>采用子模块的方式挂载文档仓库。</p>
<p><del><strong>子模块批量注册</strong></del></p>
<ul>
<li>需要编写脚本来实现自动化处理。</li>
<li>在文档仓库初始化后生成相关配置文件，用于在Blog仓库中注册为子模块的配置文件。</li>
</ul>
<blockquote>
<p>已完成: <code>Git子模块管理</code></p>
</blockquote>
<p><del><strong>子模块稀疏检出和钩子</strong></del> </p>
<blockquote>
<p>已完成: <code>Scripts\SubModule\Add.After.bat</code></p>
</blockquote>
<p><del><strong>文档仓库初始化</strong></del></p>
<blockquote>
<p>已完成: <code>文档目录仓库和-Git</code></p>
</blockquote>
<p><strong>public 目录处理</strong></p>
<p>博客内容的发布目录。此目录下的内容要提交到指定仓库的指定分支下，分支的根目录下。</p>
<ul>
<li>有2种处理方式：<ul>
<li>保留提交记录 ： 需要在别处检出分支，然后复制相关内容到public目录下，git不初始化。</li>
<li>不保留提交记录 ： git初始化，然后git提交。</li>
</ul>
</li>
</ul>
<p>这里可采用<code>不保留提交记录</code>的方式，因为此目录的内容每次都是重新生成的，没必要保留。如果有其它自定义的文件(如 <code>CNAME</code>文件)，可直接存放到<code>source</code>目录下，<code>source</code>目录对应<code>public</code>目录，在生成时会自动复制内容到<code>public</code>目录下。</p>
<p>推荐： 在推送时完成，不另编写脚本</p>
<p><strong>写作同步问题</strong></p>
<p>因为hexo的一些插件在每次生成时都需要修改源文件，所以将文档仓库注册的子模块存放别处(<code>source_md/</code>)。 这就产生一些问题，每次生成时都复制全部子模块，太耗时了，需要只复制有修改过的。</p>
<p>解决方案： 当前关联使用的目录是<code>doc/md/</code> ，可在此目录下写入状态数据文件(<code>status.txt</code>)，其内容为1时表示有更新。在写作完后，手动写入数据到此文件，在脚本中遍历读取此文件进行相应的操作，并在操作完后更新此文件。此文件和其它内容一样提交到版本库中的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#bat</span><br><span class="line">for &#x2F;f &quot;usebackq tokens&#x3D;* delims&#x3D;&quot; %%i in (&#96;type status.txt&#96;) do (</span><br><span class="line">	set &quot;aa&#x3D;%%i&quot;</span><br><span class="line">)</span><br><span class="line">echo aa: %aa%</span><br><span class="line"></span><br><span class="line">#shell</span><br><span class="line">aa&#x3D;&quot;&#96;cat status.txt&#96;&quot;</span><br><span class="line">echo aa: $aa</span><br></pre></td></tr></table></figure>

<p>推荐： 在子模块中写作完并写入数据后，先提交并推送子模块到远端。</p>
<p><del><strong>index.md 生成</strong></del></p>
<p>生成文章的索引列表，在各个子模块中生成，并复制到文档仓库和子模块中。因为要读取<code>index.md</code> 文件中需要用到的一些数据只在子模块中有，所以要在子模块中处理。</p>
<p>批量处理子模块下的md文件，以生成<code>index.md</code>。</p>
<blockquote>
<p>已完成:   <code>MD: 生成md索引列表</code></p>
</blockquote>
<p><del><strong>YAML 处理</strong></del></p>
<p>一些旧的md文件没有YAML数据头，需要添加。编写可批量处理的脚本。</p>
<blockquote>
<p>已完成:   <code>MD: Yaml处理</code></p>
</blockquote>
<p><strong>Hexo 工具</strong></p>
<h2 id="项目规划"><a href="#项目规划" class="headerlink" title="项目规划"></a>项目规划</h2><h4 id="Blog仓库"><a href="#Blog仓库" class="headerlink" title="Blog仓库"></a>Blog仓库</h4><p>Blog仓库名：<code>KumaNNN.github.io</code></p>
<ul>
<li><p>此为用户站点，通过各分支进行管理。</p>
</li>
<li><p><strong>master</strong>  ： 内容发布分支。</p>
</li>
<li><p><strong>&lt;blog&gt;</strong>  ： blog源程序分支（以 blog源程序的名称命名，如 <code>Hexo</code>）</p>
<ul>
<li><p><code>source_md/&lt;SubModules&gt;</code>  ：内容源，子模块，拉取文档库中可引用的分支(默认：<code>md</code>)</p>
<ul>
<li>本地管理时，用子模块方式；</li>
<li>集成环境，<del>直接当作仓库管理</del>  <a href="https://docs.travis-ci.com/user/customizing-the-build/#git-submodules" target="_blank" rel="noopener">Travis CI默认克隆git子模块</a>  ，且集成环境中并不需要操作此目录。</li>
</ul>
</li>
<li><p><code>source/_post</code>  ： hexo内容源，通过一定的脚本自动化将<code>source_md/&lt;SubModules&gt;</code>  的内容复制到此。</p>
<ul>
<li>因为hexo每次生成时都需要修改源文件，所以分开存放。 </li>
</ul>
</li>
<li><p><code>themes/&lt;SubModules&gt;</code>  ：主题源，子模块，拉取主题库中的<code>MyMaster</code>分支。</p>
</li>
<li><p><code>Script</code>  ： 脚本存放目录，存放相关的自定义脚本或钩子脚本。</p>
</li>
<li><p><code>public</code>  ：  hexo发布目录。子模块(或git仓库)，已配置将其下内容发布到本仓库<code>master</code>分支。</p>
<ul>
<li>当作 子模块，易于管理，因为子模块提交记录不在当前分支。</li>
<li>使用<code>hexo g</code>生成内容前，通常需要使用<code>hexo clean</code> 清除此文件夹及其内容，以确保更改达到预期效果。这样会将此文件夹下的版本数据库<code>.git</code>也删除，如果每次都初始化，将不能保留提交记录。<ul>
<li><strong>本地</strong>： <ul>
<li>方案一：(当作git仓库时) 手动执行脚本，在其它地方克隆并检出<code>master</code> 分支，并复制<code>.git</code> 目录到<code>public</code>下。 <ul>
<li>会产生git嵌套，在管理上带来一定的麻烦，慎用。</li>
<li>在线上，只提交了此文件夹的内容，而放弃其它内容，倒无所谓。</li>
</ul>
</li>
<li>方案二：(当作子模块时) 用脚本修复<code>public/.git</code> 文件。==使用中== <ul>
<li>在不使用线上的 <strong>持续集成</strong> 时，可这样做。</li>
<li>使用线上的 <strong>持续集成</strong> 时，放弃此子模块的提交。</li>
</ul>
</li>
</ul>
</li>
<li><strong>线上</strong>： 已在配置文件中配置，可保留提交记录。<ul>
<li>Travis-ci 根据配置，克隆并检出指定分支(<code>Hexo</code>) ，安装依赖，<code>hexo g</code>生成内容，在其它地方克隆并检出<code>master</code> 分支并复制<code>.git</code> 目录到<code>public</code>下，最后只提交并推送<code>public</code>下的内容到<code>master</code>分支，放弃其它内容。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="文档-子仓库-和主题"><a href="#文档-子仓库-和主题" class="headerlink" title="文档(子仓库)和主题"></a>文档(子仓库)和主题</h4><p>==修正==：<strong>文档(子仓库)</strong> 已采用单分支(<code>master</code>) ，子模块化到<code>source_md/&lt;SubModules&gt;</code> ，再通过脚本复制<code>source_md/&lt;SubModules&gt;/doc/md/*</code> 到 <code>source/&lt;SubModules&gt;/</code> </p>
<p><strong>注意</strong>： 文档和主题 ，可用组织进行管理</p>
<ul>
<li>文档&lt;组织名&gt;： <code>KumaDocCenter</code><ul>
<li>管理库[^1]： <code>KumaDocCenter.github.io</code></li>
<li>文档分库存储，<del>特定目录（如，md）新建分支(<code>md</code>)，以便引用。</del>  已采用单分支</li>
<li><del>保持数据一致性：<code>md分支</code> 定期合并到master分支，或参考 <a href="#git从其他分支checkout文件到当前分支">git从其他分支checkout文件到当前分支</a>。</del> 已采用单分支</li>
</ul>
</li>
<li>主题&lt;组织名&gt;：<code>BlogThemes&lt;blog源程序名称&gt;</code>    如，<code>BlogThemesHexo</code><ul>
<li>管理库[^1]： <code>BlogThemes&lt;blog源程序名称&gt;.github.io</code>     如，<code>BlogThemesHexo.github.io</code></li>
<li>blog源程序的主题，Fork成独立库，以便管理。</li>
<li>库命名格式：<ul>
<li><code>&lt;username&gt;_&lt;blog源程序名称&gt;_主题名称</code></li>
<li><code>&lt;orgname&gt;_&lt;blog源程序名称&gt;_主题名称</code></li>
</ul>
</li>
<li>从<code>master</code>新建分支<code>mymaster</code>，作为自己的博客主题，所有配置修改存储在此分支。</li>
</ul>
</li>
</ul>
<h2 id="工作流"><a href="#工作流" class="headerlink" title="工作流"></a>工作流</h2><p>注： ==推荐每个分支一个目录，而不是在同一目录切换分支==。</p>
<p><code>staged</code>  :  暂存。在此脚本中通常用于待处理目录。</p>
<h3 id="本地"><a href="#本地" class="headerlink" title="本地"></a>本地</h3><h4 id="子仓库初始化"><a href="#子仓库初始化" class="headerlink" title="子仓库初始化"></a>子仓库初始化</h4><ul>
<li>复制父项目下的<code>Start.bat</code>文件和<code>Script</code>文件夹到未初始化的子仓库，并运行<code>Start.bat</code>文件</li>
<li><del>修改某些子仓库的名称和git地址。嵌套领域可用<code>.</code>连结，如 <code>Apache.httpd</code></del>  已通过脚本实现<ul>
<li><del>需修改的文件：<code>*.add</code> <code>*.init</code> <code>*.del</code>  <code>*.updata</code>  <code>.git/config</code></del> 已通过脚本实现</li>
<li>git嵌套： 可以忽略整个子目录<ul>
<li>因为文件夹已嵌套，且用<code>.</code>连结作为仓库名，已便于区分，才可以这样做。</li>
<li>适用于，想把上级目录也用git管理的情景。</li>
</ul>
</li>
</ul>
</li>
<li>根据名称，建立远端仓库，并进行推送，以便子模块拉取。</li>
<li><strong>多分支脚本流程</strong>：<ol>
<li>检测<code>.git</code> 文件，存在则退出脚本。不存在则继续执行脚本。</li>
<li>特定目录处理。<ul>
<li>一些不存在的目录会自动创建，如 <code>doc/md</code>  <code>doc/Readme</code></li>
</ul>
</li>
<li>空目录处理。<ul>
<li>因为git会自动忽略空目录。</li>
<li>对于空目录，添加 .gitkeep 文件</li>
</ul>
</li>
<li>仓库配置。<ul>
<li>初始化仓库，配置用户名，邮箱，添加远程仓库等等。</li>
</ul>
</li>
<li>首次提交<ul>
<li>提交空白仓库，只包含 .gitignore 文件</li>
<li>提交信息： <code>Commit_0 : init</code></li>
</ul>
</li>
<li>第2次提交 + 新建分支<ul>
<li>增加 doc/md 和 Script目录，并依此新建md分支</li>
<li>提交信息： <code>Commit_1 : + doc/md/* and Script</code></li>
</ul>
</li>
<li>第3次提交<ul>
<li>添加所有文件</li>
<li>提交信息：<code>Commit_2 : + All file</code></li>
</ul>
</li>
<li>复制钩子<ul>
<li><del>==提交钩子(post-commit)==</del>  子仓库暂无</li>
</ul>
</li>
<li>YAML输出</li>
<li>输出子模块批处理配置文件<ul>
<li>手动复制此配置文件到其它地方。</li>
</ul>
</li>
<li>结果输出</li>
</ol>
</li>
<li><strong>单分支脚本流程</strong>：<ol>
<li>检测<code>.git</code> 文件，存在则退出脚本。不存在则继续执行脚本。</li>
<li>特定目录处理。<ul>
<li>一些不存在的目录会自动创建，如 <code>doc/md</code>  <code>doc/Readme</code></li>
</ul>
</li>
<li>空目录处理。<ul>
<li>因为git会自动忽略空目录。</li>
<li>对于空目录，添加 .gitkeep 文件</li>
</ul>
</li>
<li>仓库配置。<ul>
<li>初始化仓库，配置用户名，邮箱，添加远程仓库等等。</li>
</ul>
</li>
<li>首次提交<ul>
<li>提交空白仓库，只包含 .gitignore 文件</li>
<li>提交信息： <code>Commit_0 : init</code></li>
</ul>
</li>
<li>第2次提交<ul>
<li>添加所有文件</li>
<li>提交信息：<code>Commit_1 : + All file</code></li>
</ul>
</li>
<li>复制钩子<ul>
<li><del>==提交钩子(post-commit)==</del>  子仓库暂无</li>
</ul>
</li>
<li>YAML输出</li>
<li>输出子模块批处理配置文件<ul>
<li>手动复制此配置文件到其它地方。</li>
</ul>
</li>
<li>结果输出</li>
</ol>
</li>
</ul>
<p><strong>产生的文件有：</strong></p>
<ul>
<li><code>init.log</code>  ： 仓库初始化日志，转移<ul>
<li>管理库： <code>data\SubRepo\init</code></li>
</ul>
</li>
<li><code>*.[Repo]add</code> <code>*.init</code> <code>*.[Repo]del</code>  <code>*.[Repo]updata</code>  ： 子模块批处理配置文件，转移<ul>
<li>父项目： <code>.git\myconf\submodule\staged</code></li>
<li>管理库： <code>data\SubRepo\conf</code></li>
</ul>
</li>
<li><code>doc/md/*.YAML</code>  ：(<code>md</code> 分支或<code>doc/md</code>) md 文件的YAML头，处理后删除<ul>
<li>将其内容复制到相应的md文件头部，然后删除此<code>*.YAML</code>文件，最后git提交。</li>
</ul>
</li>
</ul>
<h4 id="父项目添加子模块-子仓库"><a href="#父项目添加子模块-子仓库" class="headerlink" title="父项目添加子模块(子仓库)"></a>父项目添加子模块(子仓库)</h4><ul>
<li>运行脚本 <code>Script\sh\submodule_batch.bat</code> ，添加子模块。</li>
<li>子模块稀疏检出(<code>doc/md</code>)</li>
<li>复制钩子<ul>
<li>==提交钩子(post-commit)== ，在配置文件中已配置，脚本会自动复制此钩子。</li>
</ul>
</li>
<li>脚本配置如下<ul>
<li>配置读取目录  ： <code>.git\myconf\submodule\staged</code> <ul>
<li>从该目录下读取子模块批处理配置文件</li>
</ul>
</li>
<li>完成目录  ： <code>.git\myconf\submodule\ok</code><ul>
<li>处理完毕后，将配置文件移动到此。</li>
</ul>
</li>
</ul>
</li>
<li>配置文件格式参考  <code>Script\sh\git_submodule\Template</code> </li>
<li>注： 子模块git数据库在父项目下的.git目录下。</li>
</ul>
<h4 id="写作在子仓库"><a href="#写作在子仓库" class="headerlink" title="写作在子仓库"></a>写作在子仓库</h4><ul>
<li>完全可当做为普通git仓库来管理。</li>
<li>(==单分支==)子仓库有<code>master</code>分支。</li>
<li>(==多分支==)子仓库有<code>master</code>分支和<code>md</code> 分支。<ul>
<li><code>md</code> 分支源自<code>master</code>分支的<code>doc/md</code> ，最终需要将最新的数据合并到<code>master</code>分支，以作存储。</li>
<li>所以<code>doc/md</code>的更改推荐在<code>md</code>分支下进行，然后定期合并到<code>master</code>分支</li>
<li><code>master</code>分支==不能==合并到<code>md</code> 分支，会造成结构不符合当初预期。</li>
<li>若需要从<code>master</code>分支检出<code>md</code> 分支所需的最新数据，可通过其它方法，如<a href="#git从其他分支checkout文件到当前分支">git从其他分支checkout文件到当前分支</a></li>
</ul>
</li>
<li>git提交并推送。</li>
</ul>
<h4 id="写作在子模块"><a href="#写作在子模块" class="headerlink" title="写作在子模块"></a>写作在子模块</h4><ul>
<li>进入子模块，当做为普通git仓库来管理单分支。</li>
<li>(==单分支==)子模块只检出<code>master</code> 分支，且==禁止==检出其它分支。</li>
<li>(==多分支==)子模块只检出<code>md</code> 分支，且==禁止==检出其它分支。<ul>
<li><code>md</code> 分支源自<code>master</code>分支的<code>doc/md</code> ，最终需要将最新的数据合并到<code>master</code>分支，以作存储。</li>
<li>所以<code>doc/md</code>的更改推荐在<code>md</code>分支下进行，然后定期合并到<code>master</code>分支</li>
<li><code>master</code>分支==不能==合并到<code>md</code> 分支，会造成结构不符合当初预期。</li>
<li>若需要从<code>master</code>分支检出<code>md</code> 分支所需的最新数据，可通过其它方法，如<a href="#git从其他分支checkout文件到当前分支">git从其他分支checkout文件到当前分支</a></li>
</ul>
</li>
<li>[可选] 手动执行<code>md.bat</code> 脚本，处理新增的md文件。</li>
<li>git提交</li>
<li>触发==提交钩子(post-commit)== <ul>
<li>写入<code>复制状态</code> 数据到子模块git数据库目录下。</li>
</ul>
</li>
<li>git推送。</li>
</ul>
<h4 id="写作在父仓库"><a href="#写作在父仓库" class="headerlink" title="写作在父仓库"></a>写作在父仓库</h4><blockquote>
<p>可能某些内容并没有依赖子仓库，是在本项目中(<code>source/*</code>)，此时，就需要在父仓库中写作。</p>
</blockquote>
<ul>
<li>在父仓库 <code>source/*</code> 下更改内容 。<ul>
<li><strong>使用</strong>线上持续集成时，本地工作流：<ul>
<li>提交当前分支(<code>Hexo</code>) <del>，忽略<code>public</code> 子模块</del> <code>.gitignore</code> 文件中实现忽略<code>public</code> 目录。</li>
<li><del>所需的配置方案，参考 <a href="#忽略submodule中的修改或新增文件">忽略submodule中的修改或新增文件</a>。</del></li>
</ul>
</li>
<li><strong>不使用</strong>线上持续集成时，本地工作流： <ul>
<li><del>先提交<code>public</code>子模块，再提交当前分支(<code>Hexo</code>) 。</del></li>
<li><code>hexo d</code> 命令处理时，会自动在<code>.deploy_git</code> 目录中处理，不影响 <code>public</code> 目录。<ul>
<li><code>.deploy_git</code> 目录可删除或提交</li>
</ul>
</li>
<li><code>Manage.bat</code> 处理时，会自动在<code>public_deploy</code> 目录中处理，不影响 <code>public</code> 目录。<ul>
<li><code>public_deploy</code>目录可删除或提交</li>
</ul>
</li>
<li><code>public</code> 目录 提交到当前分支(<code>Hexo</code>) 。</li>
</ul>
</li>
</ul>
</li>
<li>git提交</li>
<li>触发==预提交钩子(pre-commit)==，<ul>
<li><del>修复public。</del></li>
<li>调用脚本，读取配置(<code>copy.conf</code>) ，按需复制 <code>source_md/&lt;SubModuleName&gt;/doc/md/</code> 下的内容到 <code>source/_posts/Dev/&lt;SubModuleName&gt;</code> 。</li>
<li><del>处理source/* md文件</del></li>
</ul>
</li>
</ul>
<h3 id="线上"><a href="#线上" class="headerlink" title="线上"></a>线上</h3><h4 id="使用-Travis-ci-持续集成"><a href="#使用-Travis-ci-持续集成" class="headerlink" title="使用 Travis-ci 持续集成"></a>使用 Travis-ci 持续集成</h4><p><strong>已配置如下流程</strong></p>
<ul>
<li><p>Travis-ci 检测仓库接收的推送。</p>
<ul>
<li>拉取博客程序分支(<code>Hexo</code>)</li>
<li>安装依赖，<code>hexo g</code>生成内容</li>
<li><del>方案1：在其它地方克隆并检出<code>master</code> 分支并复制<code>.git</code> 目录到<code>public</code>下</del></li>
<li>方案2： 直接将<code>public_git</code>目录下的固定文件复制到新生成的<code>public</code> 目录下。<ul>
<li>仓库每次都初始化，即永远只有1个提交。</li>
</ul>
</li>
<li>最后只提交并推送<code>public</code>下的内容到远端<code>master</code>分支，放弃其它内容。</li>
</ul>
</li>
</ul>
<h2 id="Build"><a href="#Build" class="headerlink" title="Build"></a>Build</h2><h3 id="bat脚本"><a href="#bat脚本" class="headerlink" title="bat脚本"></a>bat脚本</h3><ul>
<li>子模块(子仓库)，==提交钩子(post-commit)==，写入数据到配置文件中（包含<code>状态</code>，<code>路径</code> 等信息）</li>
<li>父仓库(Hexo)，==预提交钩子(pre-commit)==   , for   读取（遍历）子仓库中配置文件的变量，根据status参数，直接执行相应的命令。</li>
</ul>
<h3 id="shell-脚本"><a href="#shell-脚本" class="headerlink" title="shell 脚本"></a>shell 脚本</h3><p>git钩子的shell脚本，用<code>#!/bin/sh</code> ，而大部分任务流由bat脚本完成。</p>
<p>根据shell脚本调用方式，最终选择 fork方式。</p>
<p>这样能保证shell后面的命令继续执行，但不能获取子 Shell 中的环境变量</p>
<blockquote>
<p>如</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;sh</span><br><span class="line"></span><br><span class="line">.&#x2F;out.bat $@</span><br><span class="line">echo AAAAA</span><br></pre></td></tr></table></figure>

<ul>
<li>$# 是传给脚本的参数个数</li>
<li>$0 是脚本本身的名字</li>
<li>$1 是传递给该shell脚本的第一个参数</li>
<li>$2 是传递给该shell脚本的第二个参数</li>
<li>$@ 是传给脚本的所有参数的列表</li>
</ul>
</blockquote>
<p><a href="https://www.cnblogs.com/insane-Mr-Li/p/9095668.html" target="_blank" rel="noopener">Shell 脚本中调用另一个 Shell 脚本的三种方式</a> </p>
<blockquote>
<p>主要以下有几种方式：    </p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>fork</td>
<td>新开一个子 Shell 执行，子 Shell 可以从父 Shell 继承环境变量，但是子 Shell 中的环境变量不会带回给父 Shell。<br />fork 是最普通的, 就是直接在脚本里面用 path/to/foo.sh 来调用 ，不需 fork 关键字</td>
</tr>
<tr>
<td>exec</td>
<td>在同一个 Shell 内执行，但是父脚本中 exec 行之后的内容就不会再执行了</td>
</tr>
<tr>
<td>source</td>
<td>在同一个 Shell 中执行，在被调用的脚本中声明的变量和环境变量, 都可以在主脚本中进行获取和使用，相当于合并两个脚本在执行</td>
</tr>
</tbody></table>
</blockquote>
<h3 id="涉及的命令"><a href="#涉及的命令" class="headerlink" title="涉及的命令"></a>涉及的命令</h3><p>for</p>
<p>xcopy</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xcopy 1\* 11 &#x2F;eiy</span><br><span class="line"></span><br><span class="line">&#x2F;E           复制目录和子目录，包括空目录。</span><br><span class="line">&#x2F;I           如果目标不存在，且要复制多个文件，则假定目标必须是目录。</span><br><span class="line">&#x2F;Y           取消提示以确认要覆盖现有目标文件。</span><br></pre></td></tr></table></figure>

<p>复制1目录下的所有，不包含隐藏文件夹，到 11 目录</p>
<h2 id="参考阅读"><a href="#参考阅读" class="headerlink" title="参考阅读"></a>参考阅读</h2><p>[^1]: 管理组织内所有库，默认为 <code>&lt;orgname&gt;.github.io</code>  ，<code>&lt;orgname&gt;</code>不用下划线等特殊字符</p>
<p><a href="https://segmentfault.com/a/1190000012277504" target="_blank" rel="noopener">把 git 仓库的子目录独立成新仓库</a></p>
<p><a href="https://segmentfault.com/a/1190000002548731" target="_blank" rel="noopener">Git 仓库拆拆拆</a></p>
<blockquote>
<h3 id="git从其他分支checkout文件到当前分支"><a href="#git从其他分支checkout文件到当前分支" class="headerlink" title="git从其他分支checkout文件到当前分支"></a>git从其他分支checkout文件到当前分支</h3><p>使用场景，把当前分支的某个文件替换为其他分支的文件</p>
<p>执行命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout &lt;branch name&gt; -- path</span><br></pre></td></tr></table></figure>

<p>path 就是你想要替换的目录或文件</p>
</blockquote>
<blockquote>
<h3 id="忽略submodule中的修改或新增文件"><a href="#忽略submodule中的修改或新增文件" class="headerlink" title="忽略submodule中的修改或新增文件"></a>忽略submodule中的修改或新增文件</h3><p>我们要做的就是在<code>.gitmodules</code>的<code>[submodule “ProjectName”]</code>中添加一个<code>ignore</code>子项，这个ignore子项可以有3个可选的值，<code>untracked</code>, <code>dirty</code>和<code>all</code>, 它们的意思分别是：</p>
<ul>
<li><strong>untracked</strong> ：忽略 在子模块 新添加的，未受版本控制内容</li>
<li><strong>dirty</strong> ： 忽略对&lt;ProjectName&gt;目录下受版本控制的内容进行了修改</li>
<li><strong>all</strong> ： 同时忽略untracked和dirty</li>
</ul>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.kuma8866.top/posts/3884487082/" data-id="ckcgcs1850016wsfi4sjk640b" data-title="GitHub  Blog架构" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Pre/">Pre</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Pre/c/">c</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/default/">default</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/tag1/" rel="tag">tag1</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tag2/" rel="tag">tag2</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tag3/" rel="tag">tag3</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tag4/" rel="tag">tag4</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tag5/" rel="tag">tag5</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/tag1/" style="font-size: 10px;">tag1</a> <a href="/tags/tag2/" style="font-size: 10px;">tag2</a> <a href="/tags/tag3/" style="font-size: 10px;">tag3</a> <a href="/tags/tag4/" style="font-size: 10px;">tag4</a> <a href="/tags/tag5/" style="font-size: 10px;">tag5</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">七月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/posts/3042627355/">t3</a>
          </li>
        
          <li>
            <a href="/posts/4288783763/">Pre/c/df/cdk/cdk</a>
          </li>
        
          <li>
            <a href="/posts/2133687974/">Pre/c/df/df</a>
          </li>
        
          <li>
            <a href="/posts/514707214/">中文博客</a>
          </li>
        
          <li>
            <a href="/posts/1255198513/">B</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2020 Kuma<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>